こんにちは。Text Diff Editor の開発について解説します。

このアプリケーションは、「老眼に優しいテキストエディター」をコンセプトに開発しました。
Mac mini と Magic Mouse を日常的に使う方にとって、テキストの読みやすさは非常に重要です。
特に、年齢とともに小さな文字が読みにくくなる方に向けて、直感的なズーム機能を搭載しています。

最大の特徴は、Magic Mouse のピンチジェスチャーによるズーム機能です。
トラックパッドで二本指を広げるように、Magic Mouse でもピンチイン・ピンチアウトの操作ができます。
テキストは50パーセントから400パーセントまで拡大縮小でき、マウスカーソルの位置を中心にズームします。
ズーム中はGPU加速によるCSS Transformで滑らかに動き、操作が止まるとフォントサイズ自体を変更して文字を鮮明に表示する、ハイブリッドズーム方式を採用しています。

もう一つの注目機能は、テキスト差分の表示です。
Myers Diffアルゴリズムを使って、2つのファイルの違いを行単位だけでなく、文字単位でもハイライト表示します。
プログラムのコードレビューや、文書の修正箇所の確認に便利です。
差分箇所には、次の差分・前の差分へジャンプするナビゲーション機能も付いています。

テーマは3種類用意しました。
明るい部屋向けのライトテーマ、暗い環境向けのダークテーマ、そして老眼ユーザー向けに最適化されたハイコントラストテーマです。
ハイコントラストテーマでは、黒背景に白文字、アクセントに黄色を使用し、コントラスト比を最大限に高めています。

技術面では、外部ライブラリに一切依存しないVanilla JavaScriptで実装しました。
ファイルサイズは合計で約100キロバイトと軽量で、ネットワーク接続なしでも完全に動作します。
EventBusパターンによるモジュール間通信、CSS Custom Propertiesによるテーマ管理、File System Access APIによるネイティブファイル操作など、モダンなWeb標準技術を活用しています。

テストは238件作成し、全テスト合格を確認しています。
カバレッジは80パーセント以上を達成し、特にMyers Diffアルゴリズムやズーム制御などのクリティカルパスは100パーセントカバーしています。

このエディターは、シンプルでありながら、日常的なテキスト編集作業を快適にする機能を詰め込んでいます。
Magic Mouse ユーザーの方は、ぜひピンチズームの快適さを体験してみてください。

ご視聴ありがとうございました。
