# Text Diff Editor - 老眼に優しいテキストエディター

Mac mini + Magic Mouse に最適化された、見やすく使いやすいテキストエディター。

## 主な機能

### Magic Mouse ピンチズーム
- ピンチイン/アウトでテキストを50%〜400%に拡大縮小
- マウスカーソル位置を中心にズーム
- ズーム中はGPU加速で滑らか、停止後はフォントサイズに反映して鮮明

### ドラッグナビゲーション
- Alt + マウスドラッグでテキスト表示位置を自由に調整
- 慣性スクロール付きで自然な操作感

### デュアルペイン表示
- 1ファイルまたは2ファイルを同時に表示
- ドラッグ可能なスプリッターで表示比率を調整
- スクロール同期機能

### テキスト編集・保存
- ファイルを開く（ドラッグ&ドロップ対応）
- 編集（Undo/Redo対応）
- File System Access API による保存（Cmd+S）

### Diff表示
- 2ファイルの差分をハイライト表示
- 行単位 + 文字単位の差分検出（Myers Diffアルゴリズム）
- 差分ナビゲーション（次/前の差分にジャンプ）

### 検索・置換
- Cmd+F で検索、Cmd+H で置換
- 大文字小文字区別、正規表現対応
- リアルタイム検索ハイライト

### テーマ切り替え
- ライト / ダーク / ハイコントラスト
- ハイコントラストテーマは老眼ユーザー向け最適化

## 使い方

1. `index.html` をブラウザで開く
2. ツールバーの「Open」ボタンまたは Cmd+O でファイルを開く
3. Magic Mouse のピンチジェスチャーでテキストを拡大
4. 「Split」ボタンで2ファイル表示、差分比較

## キーボードショートカット

| ショートカット | 動作 |
|---------------|------|
| Cmd+N | 新規ファイル |
| Cmd+O | ファイルを開く |
| Cmd+S | 保存 |
| Cmd+F | 検索 |
| Cmd+H | 置換 |
| Cmd+\ | 分割表示 |
| Cmd++ | ズームイン |
| Cmd+- | ズームアウト |
| Cmd+0 | ズームリセット |
| F7 | 次の差分 |
| Shift+F7 | 前の差分 |

## 技術スタック

- Vanilla JavaScript (ES2022+)
- HTML5 + CSS3
- File System Access API
- CSS Custom Properties（テーマ管理）
- Myers Diff Algorithm（差分計算）
- 外部依存: なし（完全オフライン動作）

## 動作環境

- macOS + Safari 16+ / Chrome 100+
- Magic Mouse 推奨（ピンチズーム機能）

## 公開ファイル一覧

- `index.html` - メインアプリケーション
- `about.html` - プロジェクト解説ページ（日英対応）
- `js/` - JavaScriptモジュール（7ファイル）
  - `core.js` - EventBus、設定管理、ユーティリティ
  - `editor.js` - エディタ管理（行番号、Undo/Redo）
  - `viewport.js` - ズーム・パン制御
  - `files.js` - ファイル操作（開く/保存/ドラッグ&ドロップ）
  - `split-diff.js` - 分割表示・Myers Diff
  - `search.js` - 検索・置換
  - `ui.js` - ツールバー・ステータスバー・テーマ・トースト
- `explanation.mp3` - 音声解説（オプション）
- `README.md` - このファイル
