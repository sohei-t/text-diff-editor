{
  "project": {
    "name": "Text Diff Editor (Innovative Approach)",
    "description": "Mac mini Magic Mouse対応の老眼に優しいテキストエディター。CodeMirror 6ベース、CSS transformによるGPU加速ズーム、File System Access API、サイドバイサイドDiffビュー。",
    "start_date": "2026-02-18",
    "estimated_duration": "3 days",
    "approach": "innovative",
    "critical_path": ["T001", "T002", "T003", "T004", "T005", "T009", "T013", "T014", "T016", "T017"]
  },
  "tasks": [
    {
      "id": "T001",
      "name": "コアアーキテクチャ設計",
      "description": "モジュール構成、イベントバス、状態管理パターンの設計。CodeMirror 6統合のインターフェース定義。",
      "agent": "architect",
      "dependencies": [],
      "estimated_hours": 1.5,
      "status": "pending",
      "output": "ARCHITECTURE.md",
      "priority": "critical",
      "parallel_group": null,
      "phase": 1
    },
    {
      "id": "T002",
      "name": "Viteプロジェクトセットアップ",
      "description": "Vite + Vitest + vite-plugin-singlefile のプロジェクト構成。ESLint, Prettierの設定。",
      "agent": "frontend_dev",
      "dependencies": ["T001"],
      "estimated_hours": 1,
      "status": "pending",
      "output": "package.json, vite.config.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T003",
      "name": "CodeMirror 6 エディターコア実装",
      "description": "EditorManager.js: CodeMirror 6のセットアップ、基本拡張（行番号、折り返し、検索）、言語検出、大ファイル最適化。",
      "agent": "frontend_dev",
      "dependencies": ["T002"],
      "estimated_hours": 3,
      "status": "pending",
      "output": "src/editor/EditorManager.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T004",
      "name": "ズームコントローラー実装",
      "description": "ZoomController.js: Magic Mouseピンチズーム検出、CSS transform scaleによるGPU加速ズーム、カーソル位置基準のズーム中心計算、ズーム範囲制御（50%-400%）、requestAnimationFrameでの60fps維持。",
      "agent": "frontend_dev",
      "dependencies": ["T003"],
      "estimated_hours": 3,
      "status": "pending",
      "output": "src/zoom/ZoomController.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T005",
      "name": "パンコントローラー実装",
      "description": "PanController.js: Alt+ドラッグでのパンモード、慣性アニメーション、ズーム状態との連携、テキスト選択との競合回避。",
      "agent": "frontend_dev",
      "dependencies": ["T004"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "src/zoom/PanController.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T006",
      "name": "テーマシステム実装",
      "description": "ThemeManager.js: ライト/ダーク/ハイコントラストテーマ、CSS Custom Properties、システムテーマ連動、トランジションアニメーション、localStorage永続化。",
      "agent": "frontend_dev",
      "dependencies": ["T002"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "src/theme/ThemeManager.js, src/theme/*.css",
      "priority": "high",
      "parallel_group": "ui_parallel",
      "phase": 2
    },
    {
      "id": "T007",
      "name": "ファイルマネージャー実装",
      "description": "FileManager.js: File System Access APIラッパー、ファイルオープン/保存/名前を付けて保存、ドラッグ&ドロップ対応、フォールバック実装（input[type=file] + Blob）。",
      "agent": "frontend_dev",
      "dependencies": ["T002"],
      "estimated_hours": 2.5,
      "status": "pending",
      "output": "src/file/FileManager.js",
      "priority": "high",
      "parallel_group": "ui_parallel",
      "phase": 2
    },
    {
      "id": "T008",
      "name": "自動保存システム実装",
      "description": "AutoSave.js: 設定可能な自動保存間隔、未保存検出、変更インジケーター、タブ閉じ時の確認ダイアログ。",
      "agent": "frontend_dev",
      "dependencies": ["T007"],
      "estimated_hours": 1.5,
      "status": "pending",
      "output": "src/file/AutoSave.js",
      "priority": "high",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T009",
      "name": "Diffエンジン実装",
      "description": "DiffEngine.js: diff-match-patchをバンドル、行単位diff、行内文字単位diff、差分統計計算、Web Worker対応（大ファイル用）。",
      "agent": "frontend_dev",
      "dependencies": ["T003"],
      "estimated_hours": 3,
      "status": "pending",
      "output": "src/editor/DiffEngine.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T010",
      "name": "分割ビュー（SplitView）実装",
      "description": "SplitView.js: 左右分割レイアウト、リサイズ可能なスプリッター、単一/分割モード切り替え。",
      "agent": "frontend_dev",
      "dependencies": ["T003"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "src/ui/SplitView.js",
      "priority": "high",
      "parallel_group": "ui_parallel_2",
      "phase": 2
    },
    {
      "id": "T011",
      "name": "ツールバー・ステータスバー実装",
      "description": "Toolbar.js, StatusBar.js: ファイル操作ボタン、ズーム表示、テーマ切り替え、フォント設定、カーソル位置表示、エンコーディング表示、未保存インジケーター。",
      "agent": "frontend_dev",
      "dependencies": ["T002"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "src/ui/Toolbar.js, src/ui/StatusBar.js",
      "priority": "high",
      "parallel_group": "ui_parallel",
      "phase": 2
    },
    {
      "id": "T012",
      "name": "設定パネル実装",
      "description": "Settings.js: フォントサイズスライダー、フォントファミリー選択、行間調整、自動保存設定、キーバインド選択、テーマ選択、localStorage永続化。",
      "agent": "frontend_dev",
      "dependencies": ["T006", "T008"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "src/ui/Settings.js",
      "priority": "medium",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T013",
      "name": "Diffビュー統合（差分ハイライト＋同期スクロール）",
      "description": "DiffEngine + SplitView + CodeMirror 6の統合。差分ハイライト装飾（追加/削除/変更行）、スクロール同期、ズーム同期、差分ナビゲーション（次/前ジャンプ）、差分サマリー表示。",
      "agent": "frontend_dev",
      "dependencies": ["T009", "T010"],
      "estimated_hours": 3,
      "status": "pending",
      "output": "src/editor/DiffView.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T014",
      "name": "全コンポーネント統合・メインアプリ構築",
      "description": "main.js: 全モジュールの統合、EventBusによるコンポーネント間通信、初期化フロー、キーボードショートカット登録、レスポンシブレイアウト。",
      "agent": "frontend_dev",
      "dependencies": ["T004", "T005", "T011", "T012", "T013"],
      "estimated_hours": 3,
      "status": "pending",
      "output": "src/main.js",
      "priority": "critical",
      "parallel_group": null,
      "phase": 2
    },
    {
      "id": "T015",
      "name": "ミニマップ実装",
      "description": "Minimap.js: ファイル全体の縮小ビュー、現在表示範囲のハイライト、クリック/ドラッグでの位置移動、ON/OFF切り替え。",
      "agent": "frontend_dev",
      "dependencies": ["T003"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "src/ui/Minimap.js",
      "priority": "medium",
      "parallel_group": "ui_parallel_2",
      "phase": 2
    },
    {
      "id": "T016",
      "name": "テスト作成・実行",
      "description": "Vitest: エディターコア、ズーム制御、diff計算、ファイルI/O、テーマ切り替えのユニットテスト。CodeMirror 6統合テスト。カバレッジ80%以上。",
      "agent": "tester",
      "dependencies": ["T014"],
      "estimated_hours": 4,
      "status": "pending",
      "output": "tests/",
      "priority": "critical",
      "parallel_group": null,
      "phase": 3
    },
    {
      "id": "T017",
      "name": "本番ビルド・最適化・最終バンドル",
      "description": "Viteで単一HTMLにバンドル。Tree-shaking、コード分割最適化、gzip後500KB以下。Lighthouse監査。Core Web Vitals確認。",
      "agent": "frontend_dev",
      "dependencies": ["T016"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "project/public/index.html",
      "priority": "critical",
      "parallel_group": null,
      "phase": 4
    },
    {
      "id": "T018",
      "name": "セッション復元・IndexedDB永続化",
      "description": "Storage.js: IndexedDBラッパー、セッション状態の保存/復元（ズームレベル、テーマ、カーソル位置、開いていたファイル名）。",
      "agent": "frontend_dev",
      "dependencies": ["T014"],
      "estimated_hours": 1.5,
      "status": "pending",
      "output": "src/utils/Storage.js",
      "priority": "low",
      "parallel_group": "enhancement",
      "phase": 4
    },
    {
      "id": "T019",
      "name": "アクセシビリティ強化",
      "description": "ARIA属性追加、キーボードナビゲーション完全対応、フォーカス管理、コントラスト比確認、スクリーンリーダー対応。WCAG 2.1 AA準拠。",
      "agent": "frontend_dev",
      "dependencies": ["T014"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "各コンポーネントの更新",
      "priority": "medium",
      "parallel_group": "enhancement",
      "phase": 4
    },
    {
      "id": "T020",
      "name": "ドキュメント生成・公開準備",
      "description": "README.md作成、about.html生成（documenter_agent.py）、launch_app.command作成。公開用ファイルセットの整備。",
      "agent": "documenter",
      "dependencies": ["T017"],
      "estimated_hours": 2,
      "status": "pending",
      "output": "README.md, about.html, launch_app.command",
      "priority": "high",
      "parallel_group": null,
      "phase": 5
    }
  ],
  "milestones": [
    {
      "id": "M1",
      "name": "計画・設計完了",
      "tasks": ["T001"],
      "target_date": "Day 1 AM"
    },
    {
      "id": "M2",
      "name": "コアエンジン完成（エディター + ズーム + パン）",
      "tasks": ["T002", "T003", "T004", "T005"],
      "target_date": "Day 1 PM"
    },
    {
      "id": "M3",
      "name": "ファイルI/O + Diff完成",
      "tasks": ["T007", "T008", "T009", "T010", "T013"],
      "target_date": "Day 2 AM"
    },
    {
      "id": "M4",
      "name": "UI統合完了（全機能動作）",
      "tasks": ["T006", "T011", "T012", "T014", "T015"],
      "target_date": "Day 2 PM"
    },
    {
      "id": "M5",
      "name": "テスト完了・品質確保",
      "tasks": ["T016", "T018", "T019"],
      "target_date": "Day 3 AM"
    },
    {
      "id": "M6",
      "name": "本番ビルド・公開準備完了",
      "tasks": ["T017", "T020"],
      "target_date": "Day 3 PM"
    }
  ],
  "parallel_execution_groups": {
    "ui_parallel": {
      "description": "UI基盤コンポーネント（テーマ、ファイル、ツールバー）の並列開発",
      "tasks": ["T006", "T007", "T011"],
      "can_start_after": ["T002"],
      "estimated_savings": "4h → 2.5h（38%短縮）"
    },
    "ui_parallel_2": {
      "description": "エディター依存UIコンポーネントの並列開発",
      "tasks": ["T010", "T015"],
      "can_start_after": ["T003"],
      "estimated_savings": "4h → 2h（50%短縮）"
    },
    "enhancement": {
      "description": "品質強化タスクの並列実行",
      "tasks": ["T018", "T019"],
      "can_start_after": ["T014"],
      "estimated_savings": "3.5h → 2h（43%短縮）"
    }
  },
  "execution_rules": {
    "max_parallel_tasks": 3,
    "check_interval_seconds": 30,
    "timeout_hours": 24,
    "retry_on_failure": true,
    "auto_escalate": true
  }
}
